<div style="padding: 50px 50px 50px 50px;width: 100%;height: 100%;">
  <h1 class="text-center" style="margin-bottom: 60px;">Lista de Caixas</h1>
  <div class="container-fluid">
    <div class="container-fluid border border-dark rounded-4"
         style="margin: 10px 0px; padding-bottom: 10px; max-height: 300px; overflow-y: auto;">
      <div class="col-md-12">
        <mat-table class='mat-elevation-z8' [dataSource]="dataSource" aria-labelledby="tableLabel" matSort>
          <ng-container matColumnDef="dataAbertura">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Data de Abertura</mat-header-cell>
            <mat-cell *matCellDef="let cx"> {{ cx.dataAbertura | date }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="dataFechamento">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Data de Fechamento</mat-header-cell>
            <mat-cell *matCellDef="let cx"> {{ cx.dataFechamento | date }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="valorInicial">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Valor Total</mat-header-cell>
            <mat-cell *matCellDef="let cx"> {{ cx.valorInicial | currency:'BRL' }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="valorTotal">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Valor Total</mat-header-cell>
            <mat-cell *matCellDef="let cx"> {{ cx.valorTotal | currency:'BRL' }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Status</mat-header-cell>
            <mat-cell *matCellDef="let cx"> {{ cx.status }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="acoes">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let cx" style="display:flex; align-items:center; justify-content:center;">
              <button class="btn btn-primary" type="button" style="margin-right:8px"
                      [routerLink]="['/../cadastroCaixa', cx.id]"><i class="bi bi-pencil-fill"></i></button>
              <button class="btn btn-danger" type="button" style="margin-right:8px" (click)="fecharCaixa(cx.id)"><i
                class="bi bi-lock-fill"></i></button>
              <button class="btn btn-danger" type="button" style="margin-right:8px" (click)="excluirCaixa(cx.id)"><i
                class="bi bi-trash-fill"></i></button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"
                          style="background-color: white;"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
          <tr class="mat-row noDataRow" *matNoDataRow>
            <td class="mat-cell" colspan="5">Nenhum caixa cadastrado!</td>
          </tr>
        </mat-table>
        <mat-paginator
          #paginator
          (page)="pageChangeEvent($event)"
          [length]="length"
          [pageSize]="pageSize"
          [pageIndex]="pageIndex">
        </mat-paginator>
      </div>
    </div>
    <div style="display: flex; justify-content: center; flex-wrap: wrap; flex-direction: row; column-gap: 100px;">
      <button type="button" class="btn btn-danger" [routerLink]="['/../']">
        Voltar <i class="bi bi-arrow-bar-left"></i>
      </button>
      <button type="button" class="btn btn-primary" [routerLink]="['/../cadastroCaixa', '']">
        Abrir Caixa <i class="bi bi-plus"></i>
      </button>
    </div>
  </div>
</div>
